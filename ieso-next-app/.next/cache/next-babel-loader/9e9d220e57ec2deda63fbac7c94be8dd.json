{"ast":null,"code":"import { MongoClient } from 'mongodb';\nconst uri = \"mongodb://mongo:27017\";\nconst client = new MongoClient(uri);\nexport default (async (req, res) => {\n  let page = req.body.page;\n  await client.connect();\n  const database = client.db(\"posts\");\n  const collection = database.collection(\"posts\");\n  let posts = await collection.find({}, {\n    limit: 10,\n    skip: 10 * page\n  }).toArray();\n  req.statusCode = 200;\n  res.json(posts);\n});","map":{"version":3,"sources":["/usr/src/app/pages/api/getPosts.js"],"names":["MongoClient","uri","client","req","res","page","body","connect","database","db","collection","posts","find","limit","skip","toArray","statusCode","json"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;AACA,MAAMC,GAAG,GAAG,uBAAZ;AACA,MAAMC,MAAM,GAAG,IAAIF,WAAJ,CAAgBC,GAAhB,CAAf;AAEA,gBAAe,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAIC,IAAI,GAAGF,GAAG,CAACG,IAAJ,CAASD,IAApB;AACA,QAAMH,MAAM,CAACK,OAAP,EAAN;AACA,QAAMC,QAAQ,GAAGN,MAAM,CAACO,EAAP,CAAU,OAAV,CAAjB;AACA,QAAMC,UAAU,GAAGF,QAAQ,CAACE,UAAT,CAAoB,OAApB,CAAnB;AACA,MAAIC,KAAK,GAAG,MAAMD,UAAU,CAACE,IAAX,CAAgB,EAAhB,EAAoB;AAACC,IAAAA,KAAK,EAAE,EAAR;AAAYC,IAAAA,IAAI,EAAE,KAAKT;AAAvB,GAApB,EAAkDU,OAAlD,EAAlB;AACAZ,EAAAA,GAAG,CAACa,UAAJ,GAAiB,GAAjB;AACAZ,EAAAA,GAAG,CAACa,IAAJ,CAASN,KAAT;AACD,CARD","sourcesContent":["import { MongoClient } from 'mongodb'\nconst uri = \"mongodb://mongo:27017\";\nconst client = new MongoClient(uri);\n\nexport default async (req, res) => {\n  let page = req.body.page\n  await client.connect()\n  const database = client.db(\"posts\")\n  const collection = database.collection(\"posts\")\n  let posts = await collection.find({}, {limit: 10, skip: 10 * page}).toArray()\n  req.statusCode = 200\n  res.json(posts)\n}"]},"metadata":{},"sourceType":"module"}