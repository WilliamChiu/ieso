{"ast":null,"code":"import { MongoClient } from 'mongodb';\nconst uri = \"mongodb://mongo:27017\";\nconst client = new MongoClient(uri);\nexport default (async (req, res) => {\n  let page = req.body.page;\n  console.log(page);\n  let options = page ? {\n    limit: 10,\n    skip: 10 * page\n  } : {\n    limit: 10\n  };\n  console.log(options);\n  await client.connect();\n  const database = client.db(\"posts\");\n  const collection = database.collection(\"posts\");\n  let posts = await collection.find();\n  res.statusCode = 200;\n  res.json(posts);\n});","map":{"version":3,"sources":["/usr/src/app/pages/api/getPosts.js"],"names":["MongoClient","uri","client","req","res","page","body","console","log","options","limit","skip","connect","database","db","collection","posts","find","statusCode","json"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;AACA,MAAMC,GAAG,GAAG,uBAAZ;AACA,MAAMC,MAAM,GAAG,IAAIF,WAAJ,CAAgBC,GAAhB,CAAf;AAEA,gBAAe,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAIC,IAAI,GAAGF,GAAG,CAACG,IAAJ,CAASD,IAApB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,MAAII,OAAO,GAAGJ,IAAI,GAAG;AAACK,IAAAA,KAAK,EAAE,EAAR;AAAYC,IAAAA,IAAI,EAAE,KAAKN;AAAvB,GAAH,GAAkC;AAACK,IAAAA,KAAK,EAAE;AAAR,GAApD;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACA,QAAMP,MAAM,CAACU,OAAP,EAAN;AACA,QAAMC,QAAQ,GAAGX,MAAM,CAACY,EAAP,CAAU,OAAV,CAAjB;AACA,QAAMC,UAAU,GAAGF,QAAQ,CAACE,UAAT,CAAoB,OAApB,CAAnB;AACA,MAAIC,KAAK,GAAG,MAAMD,UAAU,CAACE,IAAX,EAAlB;AACAb,EAAAA,GAAG,CAACc,UAAJ,GAAiB,GAAjB;AACAd,EAAAA,GAAG,CAACe,IAAJ,CAASH,KAAT;AACD,CAXD","sourcesContent":["import { MongoClient } from 'mongodb'\nconst uri = \"mongodb://mongo:27017\";\nconst client = new MongoClient(uri);\n\nexport default async (req, res) => {\n  let page = req.body.page\n  console.log(page)\n  let options = page ? {limit: 10, skip: 10 * page} : {limit: 10}\n  console.log(options)\n  await client.connect()\n  const database = client.db(\"posts\")\n  const collection = database.collection(\"posts\")\n  let posts = await collection.find()\n  res.statusCode = 200\n  res.json(posts)\n}"]},"metadata":{},"sourceType":"module"}